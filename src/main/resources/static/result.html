<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>


    </script>
    <title>Document</title>
    <style>
        th, td, p, input, h3 {
            font:15px 'Segoe UI';
        }
        table, th, td {
            border: solid 1px #ddd;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }
        th {
            font-weight:bold;
        }
    </style>
    <script>
		  function myFunction() {
			 var data1 = localStorage.getItem("response_data");
			 localStorage.clear(); //clean the localstorage
			 var data = JSON.parse(data1)

            var col = [];
            for (var i = 0; i <data.length; i++) {
                for (var key in data[i]) {
                    if (col.indexOf(key) === -1) {
                        col.push(key);
                    }
                }
            }

            // Create a table.
            var table = document.createElement("table");

            // Create table header row using the extracted headers above.
            var tr = table.insertRow(-1);                   // table row.

            for (var i = 0; i < col.length; i++) {
                var th = document.createElement("th");      // table header.
                th.innerHTML = col[i];
                tr.appendChild(th);
            }

            // add json data to the table as rows.
            for (var i = 0; i < data.length; i++) {

                tr = table.insertRow(-1);

                for (var j = 0; j < col.length; j++) {
                    var tabCell = tr.insertCell(-1);
                    tabCell.innerHTML = data[i][col[j]];
                }
            }

            // Now, add the newly created table with json data, to a container.
            var divShowData = document.getElementById('showData');
            divShowData.innerHTML = "";
            divShowData.appendChild(table);


        }


 </script>
</head>
<body onload="myFunction()">
<div class="container" style="background-color:#F4F4F4">
    <div class="Project-group row" style="background-color:#282C35">
        <h1 class="h2 text-center" style="color:#ffffff">CS 527 Project</h1>
        <h4 class="h4 text-center" style="color:#ffffff">Created by</h4>
        <p class="h6 text-center" style="color:#ffffff">
            Abhinay Mannepalli,
            Nisha Kumari,
            Nikhil Panikulangara,
            Shikha Vyaghra,
            Toshitt Ahuja,
            Vaisali Sundar
        </p></div>
    <div class="row"></br></div>
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-8" style="text-align: center;">
            <button type="convert-to-json" class="btn btn-dark" onclick="this.blur();">Convert to JSON</button>
            <button type="convert-to-csv" class="btn btn-dark" onclick="this.blur();">Convert to CSV</button>
            <button type="convert-to-xml" class="btn btn-dark" onclick="this.blur();">Convert to XML</button>
        </div>
        <div class="col-sm-2"></div>
    </div>
    <!--            <div class="row text-center">-->
    <!--                <p class="h6" style="color:rgb(119, 90, 90)">Time Elasped:- </p>-->
    <!--            </div>-->
<!--    <div class="row" style="padding-top: 20px;padding-right: 60px;padding-bottom: 20px;padding-left: 60px;">-->
<!--        <table border="1" class="table table-bordered table-striped col-sm-8" id="dataTable"-->
<!--               style="text-align: center;">-->
<!--            <thead class="thead-dark">-->
<!--            <tr>-->
<!--                <th scope="col">#</th>-->
<!--                <th scope="col">First</th>-->
<!--                <th scope="col">Last</th>-->
<!--                <th scope="col">Handle</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr>-->
<!--                <th scope="row">1</th>-->
<!--                <td>Mark</td>-->
<!--                <td>Otto</td>-->
<!--                <td>@mdo</td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <th scope="row">2</th>-->
<!--                <td>Jacob</td>-->
<!--                <td>Thornton</td>-->
<!--                <td>@fat</td>-->
<!--            </tr>-->

<!--            <tr>-->
<!--                <th scope="row">2</th>-->
<!--                <td>Jacob</td>-->
<!--                <td>Thornton</td>-->
<!--                <td>@fat</td>-->
<!--            </tr>-->

<!--            <tr>-->
<!--                <th scope="row">2</th>-->
<!--                <td>Jacob</td>-->
<!--                <td>Thornton</td>-->
<!--                <td>@fat</td>-->
<!--            </tr>-->

<!--            <tr>-->
<!--                <th scope="row">2</th>-->
<!--                <td>Jacob</td>-->
<!--                <td>Thornton</td>-->
<!--                <td>@fat</td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->
<!--    <div class="col-sm-2"></div>-->
    <p id='showData'></p>

    <p id='msg'></p>
</div>
</body>
</html>
